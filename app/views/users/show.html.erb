<p class="alert alert-danger"><%= alert %></p>
<p class="alert alert-success"><%= notice %></p>
<br>
<%= render @user %>

<section class="stats">
  <%= render 'shared/stats' %>
</section>
<%= link_to image_tag("pencil.jpg", style: "width: 50px;"), new_post_path, class: "btn btn-outline-primary pencil"%>
<%= render 'follow_form' if user_signed_in? %>
<%if can? :all, @user or (current_user!=nil and current_user.id == @id)%>
  <%if can? :all, @user%>
    <div class="container" style="width: 60%">
      <div class="row">
        <div class="col-4">
        </div>
        <div class="col-8">
          <%= link_to "Back to users", users_path, class: "btn btn-primary", style: "width:100%;" %>
        </div>
      </div>
    </div>
  <%end%>
  <br>
  <div class="container">
    <div class="row">
      <div class="col-3"></div>
      <div class="col-2" style="text-align:center;">
        <%= link_to "Modifica profilo", edit_user_path(@user), class: "btn feed-link"  %> 
      </div>
      <div class="col-2" style="text-align:center;">
        <%= link_to "Preferiti", favorite_show_path(@user), class: "btn feed-link"  %> 
      </div>
      <div class="col-2" style='text-align: center; display: contents;'>
        <%= button_to "Elimina profilo", @user, method: :delete, class: "btn delete-link" %>
      </div>
      <div class="col-3"></div>
    </div>
  </div>  
<%end%>
<hr>
<div class="container" style="width: 60%;">
  <h1>Post:</h1>
</div>
<% @posts.each do |post| %>
  <%= render post %>
<% end %>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    var alerts = document.querySelectorAll(".alert");

    alerts.forEach(function(alert) {
      if (alert.innerHTML.trim() !== "") {
        alert.classList.add("show");
      }
    });
  });

</script>